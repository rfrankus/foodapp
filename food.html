<!DOCTYPE html>
<html>
<head>
  <title>Food Speaker for Mouth & Nose Surgery</title>
  <style>
    body {
      font-family: 'Comic Sans MS', cursive;
      background-color: #f0f8ff;
      text-align: center;
      padding: 40px;
    }
    h1 {
      color: #ff69b4;
      font-size: 40px;
    }
    .language-choice {
      margin: 20px 0;
      padding: 15px;
      background-color: #fff;
      border-radius: 10px;
      display: inline-block;
    }
    .language-choice h3 {
      margin: 0 0 10px 0;
      color: #333;
    }
    .language-section {
      margin: 10px 0;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      background-color: #f9f9f9;
    }
    .language-choice label {
      margin: 0 10px;
      font-size: 16px;
      cursor: pointer;
    }
    .language-choice input[type="radio"] {
      margin-right: 5px;
      transform: scale(1.1);
    }
    .food-button {
      font-size: 24px;
      margin: 10px;
      padding: 20px 40px;
      background-color: #ffe4e1;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: transform 0.2s ease;
    }
    .food-button:hover {
      background-color: #ffdab9;
      transform: scale(1.1);
    }
  </style>
</head>
<body>
  <h1>🍧 Food Speaker Deluxe 🍹</h1>

  <div class="language-choice">
    <h3>Choose Language & Tone:</h3>
    
    <div class="language-section">
      <strong>🇺🇸 English:</strong>
      <label>
        <input type="radio" name="language" value="english-nice" checked> 😊 Nice
      </label>
      <label>
        <input type="radio" name="language" value="english-rude"> 😠 Rude
      </label>
    </div>
    
    <div class="language-section">
      <strong>🇩🇪 German:</strong>
      <label>
        <input type="radio" name="language" value="german-nice"> 😊 Höflich
      </label>
      <label>
        <input type="radio" name="language" value="german-rude"> 😠 Unhöflich
      </label>
    </div>
    
    <div class="language-section">
      <strong>🇸🇦 Arabic:</strong>
      <label>
        <input type="radio" name="language" value="arabic-nice"> 😊 مهذب
      </label>
      <label>
        <input type="radio" name="language" value="arabic-rude"> 😠 وقح
      </label>
    </div>
  </div>

  <button class="food-button" onclick="speakFood('Water')">💧 Water</button>
  <button class="food-button" onclick="speakFood('Butter')">💧 Butter</button>
  <button class="food-button" onclick="speakFood('Ice Cream')">🍦 Ice Cream</button>
  <button class="food-button" onclick="speakFood('Protein Shake')">🥤 Protein Shake</button>
  <button class="food-button" onclick="speakFood('Whip Cream')">🍨 Whip Cream</button>
  <button class="food-button" onclick="speakFood('Yogurt')">🥣 Yogurt</button>
  <button class="food-button" onclick="speakFood('Smoothie')">🫐 Smoothie</button>
  <button class="food-button" onclick="speakFood('Chocolate Pudding')">🍫 Chocolate Pudding</button>

  <script>
    // Check available voices when page loads
    window.addEventListener('load', function() {
      // Wait a bit for voices to load
      setTimeout(checkVoices, 100);
    });

    function checkVoices() {
      const voices = speechSynthesis.getVoices();
      console.log('Available voices:', voices);
      
      const arabicVoices = voices.filter(voice => 
        voice.lang.startsWith('ar') || 
        voice.name.toLowerCase().includes('arabic')
      );
      console.log('Arabic voices found:', arabicVoices);
      
      if (arabicVoices.length === 0) {
        console.warn('No Arabic voices available on this device/browser');
        // You could show a warning to the user here
      }
    }

    function speakFood(foodName) {
      const languageChoice = document.querySelector('input[name="language"]:checked').value;
      
      // Food translations
      const foodTranslations = {
        'Water': { german: 'Wasser', arabic: 'ماء' },
        'Butter': { german: 'Butter', arabic: 'زبدة' },
        'Ice Cream': { german: 'Eis', arabic: 'آيس كريم' },
        'Protein Shake': { german: 'Protein-Shake', arabic: 'مخفوق البروتين' },
        'Whip Cream': { german: 'Schlagsahne', arabic: 'كريمة مخفوقة' },
        'Yogurt': { german: 'Joghurt', arabic: 'زبادي' },
        'Smoothie': { german: 'Smoothie', arabic: 'عصير مخلوط' }
      };
      
      let sentence;
      let lang = 'en-US'; // Default language for speech synthesis
      
      switch(languageChoice) {
        case 'english-nice':
          sentence = 'Can I please have some ' + foodName + '?';
          lang = 'en-US';
          break;
        case 'english-rude':
          sentence = 'Where the fuck is my ' + foodName + '?';
          lang = 'en-US';
          break;
        case 'german-nice':
          sentence = 'Kann ich bitte etwas ' + foodTranslations[foodName].german + ' haben?';
          lang = 'de-DE';
          break;
        case 'german-rude':
          sentence = 'Wo zum Teufel ist mein ' + foodTranslations[foodName].german + '?';
          lang = 'de-DE';
          break;
        case 'arabic-nice':
          sentence = 'هل يمكنني الحصول على ' + foodTranslations[foodName].arabic + ' من فضلك؟';
          lang = 'ar-SA';
          break;
        case 'arabic-rude':
          sentence = 'أين ' + foodTranslations[foodName].arabic + ' اللعين؟';
          lang = 'ar-SA';
          break;
        default:
          sentence = 'Can I please have some ' + foodName + '?';
          lang = 'en-US';
      }
      
      console.log('Attempting to speak:', sentence, 'in language:', lang);
      
      const utterance = new SpeechSynthesisUtterance(sentence);
      utterance.lang = lang;
      
      // Try to find the best voice for the language
      const voices = speechSynthesis.getVoices();
      const targetVoice = voices.find(voice => voice.lang === lang) || 
                         voices.find(voice => voice.lang.startsWith(lang.split('-')[0]));
      
      if (targetVoice) {
        utterance.voice = targetVoice;
        console.log('Using voice:', targetVoice.name, targetVoice.lang);
      } else {
        console.warn('No suitable voice found for', lang);
        // For Arabic, try alternative language codes
        if (lang.startsWith('ar')) {
          const arabicVoice = voices.find(voice => 
            voice.lang.includes('ar') || 
            voice.name.toLowerCase().includes('arabic')
          );
          if (arabicVoice) {
            utterance.voice = arabicVoice;
            console.log('Using alternative Arabic voice:', arabicVoice.name);
          } else {
            // Fallback: speak in English but show Arabic text
            console.log('No Arabic voice available, falling back to English pronunciation');
            utterance.lang = 'en-US';
          }
        }
      }
      
      // Add error handling
      utterance.onerror = function(event) {
        console.error('Speech synthesis error:', event.error);
        alert('Speech synthesis failed: ' + event.error);
      };
      
      utterance.onstart = function() {
        console.log('Speech started');
      };
      
      utterance.onend = function() {
        console.log('Speech ended');
      };
      
      speechSynthesis.speak(utterance);
    }
  </script>
</body>
</html>
